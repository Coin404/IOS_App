# 情侣任务打卡/心情日记 iOS App 产品需求文档

## 1. 产品概述

### 1.1 产品定位
本产品是一款专为情侣设计的日常互动工具，旨在帮助情侣共同完成任务目标、记录生活点滴，增强彼此之间的情感连接和互动。产品注重隐私保护，采用本地优先的数据存储模式，确保核心功能在离线环境下也能正常使用。

### 1.2 核心价值主张
- 促进情侣共同目标的实现和习惯养成
- 记录和珍藏二人世界的美好瞬间
- 提供情感沟通和表达的便捷方式
- 保障用户数据隐私和安全
- 提供稳定可靠的离线使用体验

## 2. 产品范围和关键特性

### 2.1 产品范围
- 任务打卡系统
- 心情日记功能
- 数据管理与同步
- 用户账户与情侣配对

### 2.2 关键特性
- **本地优先存储**：所有数据默认存储在本地设备，保障隐私和离线可用性
- **可选云端同步**：提供可选的伴侣间数据共享功能
- **双人共享机制**：支持情侣间任务进度和日记内容的共享
- **成就系统**：通过完成任务获得成就感和激励
- **数据可视化**：以图表形式展示打卡进度和情感趋势

## 3. 功能需求 (Functional Requirements)

### 3.1 用户账户与登录系统
- **本地账户创建**：用户可以在本地创建账户，无需网络连接
- **生物识别登录**：支持Face ID/Touch ID快捷登录
- **情侣配对机制**：通过唯一配对码或二维码实现情侣配对
- **用户资料管理**：编辑个人信息、头像等

### 3.2 任务打卡系统
- **任务创建与管理**：
  - 创建新任务（设置任务名称、描述、截止日期）
  - 设置任务提醒（时间、频率）
  - 设置任务重复规则（每日、每周、自定义）
  - 设置任务优先级
  - 任务分类管理
- **打卡功能**：
  - 简单打卡记录
  - 打卡时添加文字或图片备注
  - 查看打卡历史记录
- **进度统计**：
  - 显示任务完成率
  - 连续打卡天数统计
  - 打卡日历视图
- **成就系统**：
  - 完成特定任务或达成目标获得成就徽章
  - 成就墙展示

### 3.3 心情日记功能
- **日记创建与编辑**：
  - 文字记录
  - 添加图片/视频
  - 心情标签选择
  - 地理位置标记
  - 语音记录转文字
- **日记管理**：
  - 按日期查看
  - 按心情标签筛选
  - 搜索功能
- **伴侣共享**：
  - 设置日记为私密或可共享
  - 伴侣评论和互动功能
- **纪念日提醒**：
  - 设置重要纪念日
  - 提前提醒功能

### 3.4 数据管理
- **本地数据存储**：所有数据优先存储在设备本地
- **可选云端同步**：
  - 用户可选择是否启用数据同步
  - 同步范围可控（如仅同步日记或仅同步任务）
- **数据备份与恢复**：
  - 导出数据为CSV/PDF格式
  - 从备份文件恢复数据
- **数据删除**：
  - 单个项目删除
  - 批量删除功能

### 3.5 用户体验增强
- **主题切换**：提供多种界面主题选择
- **个性化设置**：
  - 通知设置
  - 界面偏好设置
  - 隐私设置
- **数据可视化**：
  - 任务完成趋势图表
  - 心情变化分析图表

## 4. 非功能需求 (Non-Functional Requirements)

### 4.1 本地化运行
- 应用核心功能在完全本地化环境下运行，不依赖网络连接
- 数据默认存储在iOS设备本地，使用Core Data或SQLite数据库

### 4.2 离线使用能力
- 所有核心功能（任务管理、日记记录、打卡）在无网络环境下正常运行
- 数据变更在重新联网时自动处理（如需同步）
- 提供明确的离线状态提示

### 4.3 性能要求
- 应用启动时间不超过3秒
- 页面切换和操作响应时间不超过0.5秒
- 在低配置设备上保持流畅运行

### 4.4 安全性
- 本地数据加密存储
- 敏感操作需要生物识别或密码验证
- 严格的数据访问权限控制

### 4.5 兼容性
- 支持iOS 14及以上版本
- 适配iPhone和iPad不同尺寸的屏幕
- 支持深色模式和浅色模式

### 4.6 用户体验
- 界面简洁直观，操作流畅
- 符合iOS设计规范（Human Interface Guidelines）
- 提供友好的错误提示和引导

### 4.7 数据同步（可选功能）
- 采用安全的加密传输协议
- 同步冲突自动解决机制
- 同步状态实时显示

### 4.8 多语言支持
- 支持中英文界面切换
- 支持多语言输入和显示

## 5. 技术架构建议

### 5.1 本地存储
- 使用Core Data或SQLite进行本地数据持久化
- 实现数据加密机制保护用户隐私

### 5.2 网络功能（可选）
- 采用RESTful API或GraphQL实现数据同步
- 使用WebSocket实现实时通知（如伴侣互动提醒）
- 实现断点续传和网络状态监听

### 5.3 技术栈
- 开发语言：Swift
- UI框架：SwiftUI或UIKit
- 本地数据库：Core Data/SQLite
- 网络请求：URLSession或Alamofire
- 数据加密：CommonCrypto或CryptoKit

## 6. 产品路线图建议

### 6.1 第一阶段（MVP）
- 基础用户账户系统
- 核心任务管理和打卡功能
- 基础日记记录功能
- 完全本地化运行

### 6.2 第二阶段
- 伴侣配对和数据共享功能
- 成就系统
- 数据可视化
- 数据备份与恢复

### 6.3 第三阶段
- 高级日记编辑功能（图片编辑、排版等）
- 社交分享功能
- 高级数据分析
- 主题定制

## 7. 总结

本产品专注于为情侣提供一个安全、私密、易用的任务打卡和心情记录工具，核心价值在于促进情侣互动和情感连接。通过本地优先的数据存储模式，确保用户数据安全和离线可用性，同时提供可选的云端同步功能以增强用户体验。产品设计遵循简洁、直观的原则，注重用户体验和数据安全，为情侣打造一个专属的二人世界记录工具。